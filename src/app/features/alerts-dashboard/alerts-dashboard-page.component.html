<div class="alerts-dashboard">
  <h2>アラート</h2>

  <div class="tabs">
    <button 
      class="tab-button" 
      [class.active]="activeTab === 'schedule'"
      [style.border-bottom-color]="activeTab === 'schedule' ? getTabColor('schedule') : 'transparent'"
      [style.color]="getTabColor('schedule')"
      (click)="setActiveTab('schedule')">
      届出スケジュール
    </button>
    <button 
      class="tab-button" 
      [class.active]="activeTab === 'bonus'"
      [style.border-bottom-color]="activeTab === 'bonus' ? getTabColor('bonus') : 'transparent'"
      [style.color]="getTabColor('bonus')"
      (click)="setActiveTab('bonus')">
      賞与支払届
    </button>
    <button 
      class="tab-button" 
      [class.active]="activeTab === 'suiji'"
      [style.border-bottom-color]="activeTab === 'suiji' ? getTabColor('suiji') : 'transparent'"
      [style.color]="getTabColor('suiji')"
      (click)="setActiveTab('suiji')">
      随時改定アラート
    </button>
    <button 
      class="tab-button" 
      [class.active]="activeTab === 'teiji'"
      [style.border-bottom-color]="activeTab === 'teiji' ? getTabColor('teiji') : 'transparent'"
      [style.color]="getTabColor('teiji')"
      (click)="setActiveTab('teiji')">
      定時決定（算定基礎届）
    </button>
    <button 
      class="tab-button" 
      [class.active]="activeTab === 'age'"
      [style.border-bottom-color]="activeTab === 'age' ? getTabColor('age') : 'transparent'"
      [style.color]="getTabColor('age')"
      (click)="setActiveTab('age')">
      年齢到達・資格変更
    </button>
    <button 
      class="tab-button" 
      [class.active]="activeTab === 'leave'"
      [style.border-bottom-color]="activeTab === 'leave' ? getTabColor('leave') : 'transparent'"
      [style.color]="getTabColor('leave')"
      (click)="setActiveTab('leave')">
      産休・育休・休職
    </button>
    <button 
      class="tab-button" 
      [class.active]="activeTab === 'family'"
      [style.border-bottom-color]="activeTab === 'family' ? getTabColor('family') : 'transparent'"
      [style.color]="getTabColor('family')"
      (click)="setActiveTab('family')">
      扶養・氏名・住所変更
    </button>
  </div>

  <div class="tab-content">
    <!-- 届出スケジュール（マンスリーカレンダー）タブ -->
    <app-alert-schedule-tab
      *ngIf="activeTab === 'schedule'"
      [scheduleData]="scheduleData"
      [scheduleYear]="scheduleYear"
      [scheduleMonth]="scheduleMonth"
      (scheduleMonthChange)="onScheduleMonthChange($event)"
      (scheduleYearChange)="onScheduleYearChange($event)"
      (dateClick)="onScheduleDateClick($event)">
    </app-alert-schedule-tab>

    <!-- 賞与支払届タブ -->
    <app-alert-bonus-tab
      *ngIf="activeTab === 'bonus'"
      [bonusReportAlerts]="bonusReportAlerts"
      [selectedBonusReportAlertIds]="selectedBonusReportAlertIds"
      (alertSelectionChange)="onBonusAlertSelectionChange($event)"
      (selectAllChange)="onBonusSelectAllChange($event)"
      (deleteSelected)="deleteSelectedBonusReportAlerts()">
    </app-alert-bonus-tab>

    <!-- 随時改定アラートタブ -->
    <app-alert-suiji-tab
      *ngIf="activeTab === 'suiji'"
      [suijiAlerts]="suijiAlerts"
      [selectedSuijiAlertIds]="selectedSuijiAlertIds"
      [employees]="employees"
      (alertSelectionChange)="onSuijiAlertSelectionChange($event)"
      (selectAllChange)="onSuijiSelectAllChange($event)"
      (deleteSelected)="deleteSelectedSuijiAlerts()">
    </app-alert-suiji-tab>

    <!-- 定時決定（算定基礎届）対象者一覧タブ -->
    <app-alert-teiji-tab
      *ngIf="activeTab === 'teiji'"
      [teijiKetteiResults]="teijiKetteiResults"
      [teijiYear]="teijiYear"
      [availableYears]="availableYears"
      [isLoadingTeijiKettei]="isLoadingTeijiKettei"
      (yearChange)="onTeijiYearChange($event)">
    </app-alert-teiji-tab>

    <!-- 年齢到達・資格変更アラートタブ -->
    <app-alert-age-tab
      *ngIf="activeTab === 'age'"
      [ageAlerts]="ageAlerts"
      [selectedAgeAlertIds]="selectedAgeAlertIds"
      [qualificationChangeAlerts]="qualificationChangeAlerts"
      [selectedQualificationChangeAlertIds]="selectedQualificationChangeAlertIds"
      (ageAlertSelectionChange)="onAgeAlertSelectionChange($event)"
      (ageSelectAllChange)="onAgeSelectAllChange($event)"
      (ageDeleteSelected)="deleteSelectedAgeAlerts()"
      (qualificationChangeAlertSelectionChange)="onQualificationChangeAlertSelectionChange($event)"
      (qualificationChangeSelectAllChange)="onQualificationChangeSelectAllChange($event)"
      (qualificationChangeDeleteSelected)="deleteSelectedQualificationChangeAlerts()">
    </app-alert-age-tab>

    <!-- 産休・育休・休職アラートタブ -->
    <app-alert-leave-tab
      *ngIf="activeTab === 'leave'"
      [maternityChildcareAlerts]="maternityChildcareAlerts"
      [selectedMaternityChildcareAlertIds]="selectedMaternityChildcareAlertIds"
      (alertSelectionChange)="onMaternityChildcareAlertSelectionChange($event)"
      (selectAllChange)="onMaternityChildcareSelectAllChange($event)"
      (deleteSelected)="deleteSelectedMaternityChildcareAlerts()">
    </app-alert-leave-tab>

    <!-- 扶養・氏名・住所変更アラートタブ -->
    <app-alert-family-tab
      *ngIf="activeTab === 'family'"
      [supportAlerts]="supportAlerts"
      [selectedSupportAlertIds]="selectedSupportAlertIds"
      (alertSelectionChange)="onSupportAlertSelectionChange($event)"
      (selectAllChange)="onSupportSelectAllChange($event)"
      (deleteSelected)="deleteSelectedSupportAlerts()">
    </app-alert-family-tab>
  </div>
</div>
