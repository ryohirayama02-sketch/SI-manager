<h2>従業員情報の編集</h2>

<div class="card">
  <!-- タブナビゲーション -->
  <div class="tabs">
    <button 
      type="button"
      class="tab-button" 
      [class.active]="activeTab === 'basic'"
      (click)="activeTab = 'basic'">
      基本情報
    </button>
    <button 
      type="button"
      class="tab-button" 
      [class.active]="activeTab === 'family'"
      (click)="activeTab = 'family'">
      家族情報
    </button>
    <button 
      type="button"
      class="tab-button" 
      [class.active]="activeTab === 'history'"
      (click)="activeTab = 'history'">
      標準報酬履歴・社保加入履歴
    </button>
  </div>

  <!-- タブコンテンツ -->
  <!-- 基本情報タブ -->
  <div *ngIf="activeTab === 'basic'" class="tab-content">
    <app-employee-basic-info-form
      [employeeId]="employeeId"
      (saved)="onSaved()"
      (errorMessagesChange)="onErrorMessagesChange($event)"
      (warningMessagesChange)="onWarningMessagesChange($event)">
    </app-employee-basic-info-form>
  </div>

  <!-- 家族情報タブ -->
  <div *ngIf="activeTab === 'family'" class="tab-content">
    <app-employee-family-info
      [employeeId]="employeeId">
    </app-employee-family-info>
  </div>

  <!-- 標準報酬履歴・社保加入履歴タブ -->
  <div *ngIf="activeTab === 'history'" class="tab-content">
    <app-employee-history
      [employeeId]="employeeId">
    </app-employee-history>
  </div>

  <!-- エラー・警告メッセージ -->
  <div *ngIf="errorMessages?.length" class="error-box" style="margin-top: 1rem;">
    <h4>エラー</h4>
    <ul>
      <li *ngFor="let err of errorMessages">{{ err }}</li>
    </ul>
  </div>

  <div *ngIf="warningMessages?.length" class="warning-box" style="margin-top: 1rem;">
    <h4>警告</h4>
    <ul>
      <li *ngFor="let w of warningMessages">{{ w }}</li>
    </ul>
  </div>
</div>
