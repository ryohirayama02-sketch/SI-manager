<div class="card monthly-section" *ngIf="employee">
  <div class="section-header" (click)="toggleExpanded()">
    <h4>æœˆæ¬¡å ±é…¬ä¿é™ºæ–™ï¼ˆ{{ employee.name }} - {{ year }}å¹´åº¦ï¼‰</h4>
    <span class="toggle-icon">{{ isExpanded ? 'â–¼' : 'â–¶' }}</span>
  </div>

  <div class="section-content" *ngIf="isExpanded">
    <div class="table-wrapper">
      <table class="monthly-table" *ngIf="monthlyPremiumRows.length">
    <thead>
      <tr>
        <th>æœˆ</th>
        <th>å¥ä¿ï¼ˆæœ¬äººï¼‰</th>
        <th>å¥ä¿ï¼ˆä¼šç¤¾ï¼‰</th>
        <th>ä»‹ä¿ï¼ˆæœ¬äººï¼‰</th>
        <th>ä»‹ä¿ï¼ˆä¼šç¤¾ï¼‰</th>
        <th>åšå¹´ï¼ˆæœ¬äººï¼‰</th>
        <th>åšå¹´ï¼ˆä¼šç¤¾ï¼‰</th>
        <th>ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let row of monthlyPremiumRows">
        <td>
          {{ row.month }}æœˆ
          <div *ngIf="row.isAcquisitionMonth" class="acquire-info">
            è³‡æ ¼å–å¾—æ™‚æ±ºå®šï¼š{{ row.acquisitionGrade }}ç­‰ç´šï¼ˆæ¨™æº–å ±é…¬
            {{
              (row.acquisitionStandard ?? 0) / 10000 | number : "1.0-1"
            }}ä¸‡å††ï¼‰
            <div
              *ngIf="row.acquisitionReason"
              class="acquire-reason"
              [title]="row.acquisitionReason"
            >
              ğŸ’¡ èª¬æ˜ã‚’è¡¨ç¤º
            </div>
            <div *ngIf="row.shikakuReportRequired" class="shikaku-report">
              ğŸ“„ è³‡æ ¼å–å¾—å±Šï¼šæå‡ºå¿…è¦ï¼ˆæœŸé™ {{ row.shikakuReportDeadline }}ï¼‰
            </div>
            <div
              *ngIf="
                !row.shikakuReportRequired &&
                row.shikakuReportRequired !== undefined
              "
              class="shikaku-report"
            >
              ğŸ“„ è³‡æ ¼å–å¾—å±Šï¼šæå‡ºä¸è¦
            </div>
          </div>
        </td>
        <td>{{ row.healthEmployee | number : "1.0-0" }}å††</td>
        <td>{{ row.healthEmployer | number : "1.0-0" }}å††</td>
        <td>{{ row.careEmployee | number : "1.0-0" }}å††</td>
        <td>{{ row.careEmployer | number : "1.0-0" }}å††</td>
        <td>{{ row.pensionEmployee | number : "1.0-0" }}å††</td>
        <td>{{ row.pensionEmployer | number : "1.0-0" }}å††</td>
        <td>
          <span *ngIf="row.exempt" class="badge-exempt">å…é™¤</span>
          <span *ngIf="!row.exempt && row.notes?.length" class="badge-warning"
            >æ³¨æ„</span
          >
        </td>
      </tr>
    </tbody>
  </table>

      <p *ngIf="!monthlyPremiumRows.length">
        æœˆæ¬¡çµ¦ä¸ãƒ‡ãƒ¼ã‚¿ãŒæœªç™»éŒ²ã®ãŸã‚ã€ä¿é™ºæ–™ã‚’è¨ˆç®—ã§ãã¾ã›ã‚“ã€‚
      </p>

      <div class="info-label" *ngIf="hasNotes">
        <span>â€» è©³ç´°ãªå…é™¤ç†ç”±ãƒ»æ³¨æ„äº‹é …ã¯å„æœˆã® notes ã‚’å‚ç…§</span>
      </div>
    </div>
  </div>
</div>

