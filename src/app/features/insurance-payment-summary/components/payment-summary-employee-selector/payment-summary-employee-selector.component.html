<div class="employee-selector card" *ngIf="employees.length > 0">
  <div 
    class="selector-header collapsible-header"
    (click)="isExpanded = !isExpanded"
    [class.expanded]="isExpanded"
    style="cursor: pointer; user-select: none; display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0;">
    <span class="collapse-icon">{{ isExpanded ? '▼' : '▶' }}</span>
    <label style="margin: 0; flex: 1;">従業員フィルタ</label>
    <div class="selector-actions" (click)="$event.stopPropagation()">
      <button type="button" (click)="selectAll()" class="btn-link">すべて選択</button>
      <span>|</span>
      <button type="button" (click)="deselectAll()" class="btn-link">すべて解除</button>
    </div>
  </div>
  <div class="employee-checkboxes" *ngIf="isExpanded">
    <label *ngFor="let emp of employees" class="employee-checkbox">
      <input
        type="checkbox"
        [checked]="isEmployeeSelected(emp.id)"
        (change)="onEmployeeToggle(emp.id, $event)"
      />
      <span>{{ emp.name }}</span>
    </label>
  </div>
</div>





