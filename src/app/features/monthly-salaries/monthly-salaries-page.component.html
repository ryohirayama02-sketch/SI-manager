<h2>月次給与</h2>

<div class="card" style="max-width: 400px; margin-bottom: 1rem;">
  <div class="form-group">
    <label>年度：</label>
    <select [(ngModel)]="year" (change)="onYearChange()" class="form-control" [ngModelOptions]="{standalone: true}">
      <option *ngFor="let y of availableYears" [value]="y">{{ y }}年</option>
    </select>
  </div>
</div>

<app-salary-csv-import
  [salaryItems]="salaryItems"
  [employees]="employees"
  [year]="year"
  [csvImportResult]="csvImportResult"
  (csvTextImport)="onCsvTextImport($event)"
  (closeDialog)="onCsvImportClose()"
  (salaryItemChange)="onSalaryItemChange($event)"
  (salaryItemBatchChange)="onSalaryItemBatchChange($event)"
  (workingDaysChange)="onWorkingDaysChange($event)"
  (importResult)="onCsvImportResult($event)">
</app-salary-csv-import>

<app-error-warning-section
  [employees]="employees"
  [errorMessages]="errorMessages"
  [warningMessages]="warningMessages"
></app-error-warning-section>

<app-salary-table
  [employees]="employees"
  [salaryItems]="salaryItems"
  [months]="months"
  [salaryItemData]="salaryItemData"
  [workingDaysData]="workingDaysData"
  [rehabHighlightMonths]="getRehabHighlightMonths()"
  [exemptMonths]="exemptMonths"
  [exemptReasons]="exemptReasons"
  [year]="year"
  (salaryItemChange)="onSalaryItemChange($event)"
  (workingDaysChange)="onWorkingDaysChange($event)">
</app-salary-table>

<button (click)="saveAllSalaries()" class="btn-success" style="margin-top: 1rem;">
  保存する
</button>
